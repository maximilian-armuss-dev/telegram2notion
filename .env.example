# ============================================================
#  Telegram2Notion â€“ Environment Configuration Template
#  Copy this file to .env and replace placeholders as needed.
# ============================================================

# --- Core API Credentials ---
TELEGRAM_BOT_TOKEN="<REPLACE_WITH_TELEGRAM_BOT_TOKEN>"
GLADIA_API_KEY="<REPLACE_WITH_GLADIA_API_KEY>"
GOOGLE_API_KEY="<REPLACE_WITH_GOOGLE_API_KEY>"
NOTION_API_KEY="<REPLACE_WITH_NOTION_API_KEY>"
NOTION_DATABASE_ID="<REPLACE_WITH_NOTION_DATABASE_ID>"

# --- Webhook Configuration ---
WEBHOOK_ENABLED=true
WEBHOOK_URL="<REPLACE_WITH_WEBHOOK_URL>"
WEBHOOK_HOST="0.0.0.0"
WEBHOOK_PORT=8000
# 256-character secret shared with the Cloudflare gateway; generate via: openssl rand -hex 128
WEBHOOK_SECRET_TOKEN="<REPLACE_WITH_SHARED_WEBHOOK_SECRET>"
WEBHOOK_SECRET_LENGTH=128
WEBHOOK_UPDATE_CACHE_SIZE=500
# CIDRS change from time to time - check in telegram documentation
TELEGRAM_ALLOWED_CIDRS=["IP_SUBNET_1", "IP_SUBNET_2"]
STARTUP_POLLING_MAX_RUNS=3

# --- Gladia Speech-to-Text ---
GLADIA_API_URL="https://api.gladia.io/v2"
GLADIA_POLLING_INTERVAL_SECONDS=10
GLADIA_MAX_CONCURRENT_TRANSCRIPTIONS=3
GLADIA_MAX_TRANSCRIPTIONS_PER_HOUR=20
GLADIA_RATE_LIMIT_WINDOW_SECONDS=3600
GLADIA_RATE_LIMIT_COOLDOWN_SECONDS=3660

# --- LLM & RAG Behaviour ---
GEMINI_MODEL="gemini-2.5-flash"
RAG_TOP_K_PER_THOUGHT=3

# --- Prompt & State Files ---
PROMPT_GEMINI_MAIN_PATH="prompts/gemini_prompt.md"
PROMPT_THOUGHT_STRUCTURING_PATH="prompts/thought_structuring_prompt.md"
STATE_FILE_PATH="state/processed_update_ids.json"

# --- Regional & Logging Settings ---
TIMEZONE="Europe/Berlin"
LOG_LEVEL="INFO"

# --- Container Runtime Tweaks ---
SERVICE_UID=1000
SERVICE_GID=1000
